
bash
===========================================================================
https://www.gnu.org/software/bash/manual/bash.html
man bash	直接在linux上输入，内容全面；


bash中很多操作都是纯文本替换，一个命令可以被很多字符串分别拼成。如ls，可以为a='l';b='s';$a$b就相当于运行了ls，且$a$b不用``括起来。

bash中的source相当于include了相应的文件，所以需要特别注意变量命名冲突的问题；函数内的变量尽量用local声明。

环境变量注意事项
===========================================================================
login模式系统会去读取/etc/profile和~/.profile,~/.login_profile等。非login模式不会读取。登陆一台机器或使用su - username均为login模式；

bash的交互模式会读取/etc/bashrc和~/.bashrc，非交互模式不会读取；直接在命令行输入bash会进入非交互模式，返回交互模式则用bash --login（可以bash --help查看所有选项）;crontab通常运行在非交互模式下，所以在basrc里面定义的环境变量可能不会被读到，有些命令可能找不到。

算术运算符(())和管道等会创建一个子进程，所以cnt=0;cat $file|while read do cnt=$cnt+1;done并不会返回文件行号，因为cnt是在子进程里面被加1，父进程的cnt并不变。

子进程会继承父进程Profile中使用export的环境变量，非export变量不会继承。

if后面[[]]要比[]好用，对于[[ $str == 'good' ]]当$str为空时并不会报错，但[]会报语法错误。

解析优先级
----------------------------------------------
{}花括号是最高优先级，会被优先展开；

使用eval使字符串被解析运行，相关语句会被扫描两次，如i=1;j=10;eval echo {$i..$j}会展1-10，但不用eval则只是文本替换，因为{}高优先级使第一次扫描解释器并不知道如何展开。


命令替换（两种格式）
----------------------------------------------
反引号 ( ` )
$( ) 格式。


变量
===========================================================================
自动变量
----------------------------------------------
如：var1=10，MYNAME=xiaoming，生命周期伴随整个脚本的运行过程


位置变量
----------------------------------------------
在脚本代码中调用命令行传递给脚本的参数

$1、$2……：对应第1、2….个参数，shift[n] 换位置

$0：脚本本身

$*：传递给脚本的所有参数，全部参数合为一个字符串

$@：传递给脚本的所有参数，每个参数为独立的字符串

$#：传递给脚本的参数的个数

注意：$* 和 $@ 的区别{

	$* 和 $@ 都表示传递给函数或脚本的所有参数，不被双引号(" ")包含时，都以"$1" "$2" … "$n" 的形式输出所有参数。

	但是当它们被双引号(" ")包含时，"$*" 会将所有的参数作为一个整体，以"$1 $2 … $n"的形式输出所有参数；"$@" 会将各个参数分开，以"$1" "$2" … "$n" 的形式输出所有参数。
	
}

set – - 清空所有位置变量




字符串处理
===========================================================================
字符串单引号与双引号
---------------------
**双引号**

在双引号内部，变量名[2]前缀($)、后引符(`)和转义符(\)会被特殊解释，其它特殊字符均不会被解释。那也是说$variable会被它的值所代替。

双引号括起来的字符串分别拼接时，会保留空格，如command "$var1" "$var2" "$var3"得到的结果是command value_var1 value_var2 value_var3
	
**单引号**

单引号不允许变量引用，单引号内除了单引号'，其它均是字面意思。如果想在一个字符串内包含一个含有单引号的字符串，则需要把内部字符串分开，并且对内部单引号用\来转义，下面的例子是echo 了一个含有单引号的sed命令。
	
	echo 'sed '\''2i<a href="http//google.com"/>insert content<a><br/>'\' index.html_tpl 

	

函数	
===========================================================================
函数返回值是函数内的标准输出echo输出，函数内的return值是状态码。

函数里面${FUNCNAME[0]}可以获取当前函数的名字；￥{FUNCNAME[i]}是bash函数堆栈向栈底数的函数名；

函数里面$1...$n分别代表函数第1..n个参数；函数外部$1..$n分别代表脚本的第1..n个参数；但是$0始终代表脚本名。
	
判断某个字符串是否是函数 "$(type -t tarname)" == "function"




特殊符号
===========================================================================
IFS
---------------------
man bash 可以看到这样一段解释：The  Internal  Field  Separator  that  is  used  for  word  splitting  after  expansion  and  to  split  lines  into words with the read builtin command.  The default value is ''<space><tab><newline>''.。

这个IFS在用括号括起一行文本时，生成的数组将决定用什么来分隔。
	
$
---------------------
$'<something>' is for bash， It tell bash to process the \e as an escape sequence, and put an "escape" character in. Usually you see the simpler forms like $'\t' or $'\n' to get a tab or newline character passed to a command. 


